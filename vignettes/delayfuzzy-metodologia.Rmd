---
title: "Corre√ß√£o de atrasos na notifica√ß√£o de SRAG usando n√∫meros fuzzy"
author: "M√¥nica Brochini"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Metodologia DelayFuzzy}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## 1. Introdu√ß√£o

O atraso da notifica√ß√£o √© um fator cr√≠tico para a vigil√¢ncia epimdeiol√≥gica da doen√ßa e gest√£o de a√ß√µes que podem conter a transmiss√£o. Este trabalho apresenta um m√©todo baseado em l√≥gica fuzzy para classificar atrasos no tratamento atrav√©s de n√∫emros triangulares fuzzy.

---

## 2. Dados

Foram utilizados dados de notifica√ß√£o de casos de srag (sivep-gripe), contendo:

- Data dos primeiros sintomas  
- Data de in√≠cio do tratamento  
- C√≥digo da notifica√ß√£o  

---

## 3. Metodologia

A diferen√ßa entre as datas foi usada para calcular o atraso em dias.  
Fun√ß√µes de pertin√™ncia fuzzy foram aplicadas para classificar os atrasos.

```r
library(delayfuzzy)

calcular_atraso()
Respons√°vel por transformar diferen√ßas entre datas em uma vari√°vel discreta de atraso semanal, que fundamenta toda a modelagem subsequente.
Entrada principal:base individual com datas
Sa√≠da: base com coluna atrasoSemanas

matriz_atraso()
Constr√≥i a matriz de frequ√™ncias de atraso por semana epidemiol√≥gica.
Realiza a tabula√ß√£o cruzada entre a semana epidemiol√≥gica de notifica√ß√£o e o atraso em semanas, formando a matriz observada Xi,j
Entrada
base com atraso calculado
Sa√≠da
matriz de frequ√™ncias X

matriz_cumulativa()
Gera a matriz cumulativa de notifica√ß√µes.
Calcula o n√∫mero acumulado de notifica√ß√µes observadas at√© cada atraso, resultando na matriz Ci,j
Entrada
matriz de atraso ùëã

Sa√≠da
matriz cumulativa ùê∂

estimar_Fj()
Estima os fatores de atraso Fj
Calcula a raz√£o entre contagens acumuladas sucessivas para cada atraso, assumindo monotonicidade e garantindo 0 < Fj <= 1
Entrada 
Matriz cumulativa ùê∂
atraso j

Sa√≠da
Escalar Fj

Estimar_lj()
Estima a incerteza associada aos fatores Fj
Calcula a largura dos n√∫meros fuzzy triangulares a partir da rela√ß√£o entre a matriz observada e a cumulativa

Entrada 
Matriz cumulativa C
Matriz esperada X
atraso j

Sa√≠da
escalar lj

mult_fuzzy()
Implementa a multiplica√ß√£o aproximada de n√∫meros fuzzy triangulares.
Executa a propaga√ß√£o da incerteza ao combinar fatores fuzzy com valores cumulativos, conforme regras de aritm√©tica fuzzy.

Entrada
dois n√∫meros fuzzy triangulares

Sa√≠da
n√∫mero fuzzy triangular resultante

propagar_fuzzy()
Propaga a corre√ß√£o fuzzy ao longo da matriz temporal.
Aplica recursivamente os fatores fuzzy ~Fj √† matriz cumulativa para estimar valores n√£o observados

Entrada
matriz cumulativa
vetores Fj lj

Sa√≠da
matrizes corrigidas


```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(delayfuzzy)
```
